{"ast":null,"code":"var _jsxFileName = \"/Users/marinebordenave/Documents/Cours/WebSecureDevelopment/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { getme, getMyParc } from \"./services/api\";\nimport Administrateur from \"./pages/Administrateur\";\nimport Inscription from \"./pages/Inscription\";\nimport Accueil from \"./pages/Accueil.js\";\nimport Navbar from \"./components/NavBar/NavBar.js\";\nimport Attractions from \"./pages/Attractions.js\";\nimport Connexion from \"./pages/Connexion.js\";\nimport Profil from \"./pages/Profil.js\";\nimport Reservation from \"./pages/Reservation.js\";\nimport Footer from './components/Footer/Footer.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isAdmin, set_admin] = useState(false);\n  const [page, setPage] = useState(\"accueil\");\n  const [parcName, setParcName] = useState();\n\n  // Get park information to display its name\n  useEffect(() => {\n    getMyParc().then(data => setParcName(data.nom));\n  }, []);\n\n  // Check if user is an administrator on App so it's done at all times and updates components\n  let token = localStorage.getItem(\"token\");\n  // If administrator user logs out, isAdmin becomes false\n  console.log(isAdmin);\n  if (token == null && isAdmin == true) {\n    set_admin(false);\n  }\n  if (token != null && isAdmin == false) {\n    getme(localStorage.getItem(\"token\")).then(result => {\n      set_admin(result.role === 'admin'); // Modified here\n    });\n  }\n\n  // Display the component whose page is set as current page\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      currentPage: page,\n      setPage: setPage,\n      Admin: isAdmin,\n      parcName: parcName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), page === \"connexion\" && /*#__PURE__*/_jsxDEV(Connexion, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 32\n    }, this), page === \"profil\" && /*#__PURE__*/_jsxDEV(Profil, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }, this), page === \"attraction\" && /*#__PURE__*/_jsxDEV(Attractions, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 33\n    }, this), page === \"reservation\" && /*#__PURE__*/_jsxDEV(Reservation, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 34\n    }, this), page === \"accueil\" && /*#__PURE__*/_jsxDEV(Accueil, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 30\n    }, this), page === \"inscription\" && /*#__PURE__*/_jsxDEV(Inscription, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 34\n    }, this), page === \"admin\" && /*#__PURE__*/_jsxDEV(Administrateur, {\n      setParcname: setParcName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"R6GSd1U08vPozjQGz7xudFgs4ks=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","getme","getMyParc","Administrateur","Inscription","Accueil","Navbar","Attractions","Connexion","Profil","Reservation","Footer","jsxDEV","_jsxDEV","App","_s","isAdmin","set_admin","page","setPage","parcName","setParcName","then","data","nom","token","localStorage","getItem","console","log","result","role","children","currentPage","Admin","fileName","_jsxFileName","lineNumber","columnNumber","setParcname","_c","$RefreshReg$"],"sources":["/Users/marinebordenave/Documents/Cours/WebSecureDevelopment/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { getme, getMyParc } from \"./services/api\";\nimport Administrateur from \"./pages/Administrateur\";\nimport Inscription from \"./pages/Inscription\";\nimport Accueil from \"./pages/Accueil.js\";\nimport Navbar from \"./components/NavBar/NavBar.js\";\nimport Attractions from \"./pages/Attractions.js\";\nimport Connexion from \"./pages/Connexion.js\";\nimport Profil from \"./pages/Profil.js\";\nimport Reservation from \"./pages/Reservation.js\";\nimport Footer from './components/Footer/Footer.js';\n\nfunction App() {\n  const [isAdmin, set_admin] = useState(false);\n  const [page, setPage] = useState(\"accueil\");\n  const [parcName, setParcName] = useState();\n\n  // Get park information to display its name\n  useEffect(() => {\n    getMyParc().then((data) => setParcName(data.nom));\n  }, []);\n\n  // Check if user is an administrator on App so it's done at all times and updates components\n  let token = localStorage.getItem(\"token\");\n  // If administrator user logs out, isAdmin becomes false\n  console.log(isAdmin)\n  if (token == null && isAdmin == true) {\n    set_admin(false);\n  }\n\n  if (token != null && isAdmin == false) {\n    getme(localStorage.getItem(\"token\")).then((result) => {\n      set_admin(result.role === 'admin'); // Modified here\n    });\n  }\n\n  // Display the component whose page is set as current page\n  return (\n    <div>\n      <Navbar\n        currentPage={page}\n        setPage={setPage}\n        Admin={isAdmin}\n        parcName={parcName}\n      />\n      {page === \"connexion\" && <Connexion setPage={setPage} />}\n      {page === \"profil\" && <Profil setPage={setPage} />}\n      {page === \"attraction\" && <Attractions setPage={setPage} />}\n      {page === \"reservation\" && <Reservation setPage={setPage} />}\n      {page === \"accueil\" && <Accueil setPage={setPage} />}\n      {page === \"inscription\" && <Inscription setPage={setPage} />}\n      {page === \"admin\" && <Administrateur setParcname={setParcName} />}\n      <Footer setPage={setPage} />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}